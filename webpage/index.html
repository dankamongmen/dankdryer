<!DOCTYPE html>
<html lang='en'>
 <head>
  <title>a drying comes across the sky</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset='utf-8'>
 </head>
 <body>
   <h1>the dankdryer, a 150℃ filament dryer</h1>
   <div class="warning">AVAILABLE 2025-01-01</div>
   <iframe width="560" height="315" src="https://www.youtube.com/embed/AYFkvZiQkCM?si=CBEUFRZwfwSTqWK2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
   <h2>Dankdryer</h2>
   <div class="proddesc">A fully assembled and tested Dankdryer suitable for
     use with Type B power outlets (as found in the US, Canada, Mexico, and
     Japan). Visible components will be printed using black carbon
     fiber-infused nylon (exact filament may change from unit to unit) capable
     of sustained operation at 150℃. Internal components will be printed using
     polycarbonate.</div>
   <div class="buy"><a href="https://buy.stripe.com/28o5lT0Xy2Hc05qfZa">$250 + tax</a></div>
   <h2>Dankdryer components</h2>
   <div class="proddesc">The electrical components of a Dankdryer. You print
     and assemble the rest. Printing will require approximately 600g of
     filament using recommended settings. Assembly does not require soldering,
     and ought take approximately half an hour.</div>
   <div class="buy"><a href="https://buy.stripe.com/dR67u1ay8bdI7xS3cp">$150 + tax</a></div>
   <hr/>
   <h2>Instructions</h2>
   <h3>Initial setup</h3>
   <div class="proddesc">
   For the assembled dryer, simply lift the top, and remove the packing
   material inside the upper chamber. There is no packing material in the
   lower chamber. Once the packing material is removed, put the top back
   on the upper chamber. If you're assembling the dryer, see the
   instructions <a href="#assembly">below</a>.<br/>
   <br/>
   Plug the supplied power cord into the side of the dryer, and into a
   120V AC outlet. Turn the dryer on using the switch on the side of the lower
   chamber. If power is flowing, it will light up. Both fans ought also
   start spinning.<br/>
   <br/>
   Bluetooth Low Energy GATT is used to configure networking. The device
   will appear as a BLE peripheral having the name "dankdryer" followed by
   some string. Connect, and write to the ESSID and PSK characteristics.
   Once they've been populated, the dryer will begin attempting to associate
   with the specified WiFi network (note: only 2.4GHz channels are supported).
   Once it successfully associates, these parameters are locked in, and
   can only be changed following a factory reset.<br/>
   </div>
   <h3>Reporting</h3>
   <div class="proddesc">
   Upon pulling a DHCP lease, the dryer will serve HTTP on port 80, and
   will publish to an MQTT broker. The same information is available
   via both interfaces:<br/>
   <ul>
     <li>Uptime in seconds</li>
     <li>Temperature of the controller in degrees Celsius</li>
     <li>Temperature of the upper chamber in degrees Celsius</li>
     <li>Measured weight (tared) in grams</li>
     <li>Tare base in grams</li>
     <li>Upper (exhaust) fan speed in rotations per minute</li>
     <li>Lower (intake) fan speed in rotations per minute</li>
     <li>Upper fan duty cycle [0..255]</li>
     <li>Lower fan duty cycle [0..255]</li>
     <li>(*) Spool speed in rotations per minute</li>
     <li>(*) Target temperature in degrees Celsius</li>
     <li>(*) Heater status (on/off)</li>
     <li>(*) Motor status (on/off)</li>
     <li>(*) Time remaining in dry in seconds</li>
   </ul>
   Items marked with an asterisk are only expected to be non-zero during
   active drying. The heater will not necessarily run constantly during
   drying. The spool ought rotate at about 5 RPM when the motor is on.<br/>
   </div>
   <h3>Taring</h3>
   <div class="proddesc">
   </div>
   <h3>Drying</h3>
   <div class="proddesc">
     Remove the top and place a spool of filament into the upper chamber,
     atop the spool platform. The spool ought sit level. Replace the top.
     Without the top in place, drying will be less effective and consume
     more power. Note that generic spools will melt under high temperatures;
     if drying at 80℃ or more, be sure to use a high-temperature spool.<br/>
     <br/>
     Drying can be initiated via the HTTP server, or via MQTT. It is necessary
     to specify the target temperature (in degrees Celsius) and the length of
     the dry (in seconds).<br/>
     <br/>
     When drying is complete, remove the top and extract the spool. The
     spool might be hot.<br/>
   </div>
   <h3>Updating firmware</h3>
   <div class="proddesc">
   </div>
   <h3>Factory reset</h3>
   <div class="proddesc">
   </div>
   <h2 id="assembly">Components/assembly</h2>
   <div class="proddesc">
   Six objects are printed using four generated STL files.
   They ought be printed in the generated orientations.<br/>
     <ul>
       <li><a href="top.png">Top</a></li>
       <li><a href="hotbox.png">Upper (hot) chamber</a></li>
       <li><a href="croom.png">Lower (cool) chamber</a></li>
       <li><a href="coupling.png">Internal components</a> (load cell coupling, motor coupling, spool platform)</li>
     </ul>
     The OpenSCAD files can be found <a href="https://github.com/dankamongmen/dankdryer/tree/master/scad">on Github</a>.
     I print them with the Arachne perimeter generator and infill combination
     using cross hatch for the sparse infill. Using Polymaker Fiberon PA6-CF20
     (nylon-6 + carbon fiber) with these settings, the six components require
     about 600g. I typically use Bambu Clear Black PC (polycarbonate) for the
     internal components.<br/>
     <br/>
     Warp-free printing is essential. Warping of the internal components or
     the lower chamber can result in the spool not sitting level. Warping 
     of the upper chamber can result in it failing to mate to the lower
     chamber.<br/>
     <ol>
       <li>Push the 175℃ thermostat through the bottom of the upper chamber.</li>
       <li>Push the LM35 through-hole thermostat through the three small holes
         in the floor of the upper chamber.</li>
       <li>Use four M4 screws to mount the ceramic heating element to the floor
         of the upper chamber.</li>
       <li>Use four M5 screws to mount one of the 80mm fans to the outside of
         the upper chamber. The logo ought be facing out; this fan is an exhaust.</li>
       <li>Insert the power plug/rocker switch unit into the rectangular
         hole on the side of the lower chamber. It ought not move once
         inserted.</li>
       <li>Use two M5 screws to mount the AC adapter to the floor of the lower chamber,
         on the side opposite the intake fan.</li>
       <li>Use four M5 screws to mount the PCB to the floor of the lower chamber,
         next to the intake fan.</li>
       <li>Insert the antenna into the antenna hole to the left of the lower chamber's
         fan. Secure it with hot glue.</li>
       <li>Connect the antenna to the U.FL connector on the PCB.</li>
       <li>Use four M5 screws to mount the other 80mm fan to the outside of
         the lower chamber. The logo ought be facing in; this fan is an intake.</li>
       <li>Connect the lower fan to the fan connector marked "lower" on the PCB.</li>
       <li>Connect the upper fan to the fan connector marked "upper" on the PCB.</li>
       <li>Use two M5 screws to mount the load cell to the central riser in the
         lower chamber.</li>
       <li>Insert the motor into the motor coupling, ensuring the positive terminal
         mates to the hole marked '+'. The terminals ought go through the holes.</li>
       <li>Wire the motor to the PCB.</li>
       <li>Wire the heating element to the 175℃ thermostat.</li>
       <li>Wire the heating element to the PCB.</li>
       <li>Wire the 175℃ thermostat to the PCB.</li>
       <li>Place the upper chamber atop the lower chamber, matching the four holes.</li>
       <li>Use four M5x35 bolts to securely mate the two chambers.</li>
       <li>Push the spool platform down around the motor coupling.</li>
       <li>Push the motor coupling down around the rotor and the top of the motor.
         The platform ought provide a level surface.</li>
       <li>Place the top into the upper chamber.</li>
     </ol>

   </div>
     <hr/>
     <div class="copyright">copyright © nick black 2024</div>

 </body>
</html>
